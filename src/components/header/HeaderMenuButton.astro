---
const lineClass = "w-full h-[2px] bg-white absolute left-1/2 -translate-x-1/2 transition duration-300 ease-in-out";
---

<div id="header-nav-menu-button" class="w-[5.75rem] h-full cursor-pointer landscape:hidden portrait:flex">
  <div class="w-[2.625rem] h-[2.375rem] m-auto relative">
    <div class={`line1 ${lineClass} top-px -translate-y-1/2`} />
    <div class={`line2 ${lineClass} top-1/2 -translate-y-1/2`} />
    <div class={`line3 ${lineClass} bottom-px translate-y-1/2`} />
  </div>
</div>

<style>
  #header-nav-menu-button.open .line1 {
    top: 1.1875rem;
    transform: rotate(45deg) scaleX(1.2);
  }

  #header-nav-menu-button.open .line2 {
    opacity: 0;
    transform: translateX(-100%)
  }

  #header-nav-menu-button.open .line3 {
    bottom: 1.1875rem;
    transform: rotate(-45deg) scaleX(1.2);
  }
</style>

<script>
  import { showMenu } from "../../store";

  const headerNavMenuButton = document.getElementById("header-nav-menu-button");

  headerNavMenuButton?.addEventListener("click", () => {
    showMenu.set(!showMenu.get());
  });

  showMenu.subscribe((show) => {
    headerNavMenuButton?.classList.toggle("open", show);
  });
</script>
